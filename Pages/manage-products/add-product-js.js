function sofb_addproduct_data(){var o={};return $("#add-product-tab textarea[data-name],#add-product-tab select[data-type]").each(function(t,a){var d=$(this).attr("data-name"),e=$(this).attr("data-type"),r=$(this).val();o[d]={type:e,value:r}}),o=JSON.stringify(o)}function sofb_addproduct(){var t=sofb_get_admin_path(),a=$("#UPDATE_PRODUCT").val();$("#submit-msg-happs").html("Processing..."),jQuery.ajax({url:t,type:"POST",data:{action:"sofb_addproduct",UPDATE:a,product_name:$("#add-product-tab [default-name=product_title] textarea").val(),product_data:sofb_addproduct_data()},cache:!1}).done(function(t){console.log(t),"-"==a?$("#submit-msg-happs").html("Product Added!"):$("#submit-msg-happs").html("Product Updated!"),window.open("?page=SOFB_add_products","_self")})}function JS_EOL(t){return t.includes("LINEBBREAK_SOFB")?t.replace(/LINEBBREAK_SOFB/g,"\n"):t}$(document).on("click","[product-del-id]",function(){if(!confirm("Are you sure, you want to delete?"))return 0;var t=$(this).attr("product-del-id");$("#DEL_PRODUCT").val(t),$("#confirm-del-product").trigger("click")}),$(document).on("click","[product-edit-id]",function(){var t=$(this).attr("product-edit-id");$("#UPDATE_PRODUCT").val(t);var e=$("[product-databox-id="+t+"]").val(),e=JSON.parse(e);$("#add-product-tab textarea[data-name]").val(""),$("#add-product-tab textarea[data-name]").each(function(t,a){var d=$(this).attr("data-name");$(this).attr("data-type");void 0!==e[d]&&(d=JS_EOL(e[d].value),$(this).val(d))}),$("#add-product").hide(),$("#update-product").show("slow")});